{
    "mappings": [
        {
            "source_file": "source_countries.csv",
            "target_table": "test_staging_dataset.countries",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "country_name",
                    "type": "STRING",
                    "mode": "NULLABLE"
                },
                {
                    "name": "region",
                    "type": "STRING",
                    "mode": "NULLABLE"
                },
                {
                    "name": "income_group",
                    "type": "STRING",
                    "mode": "NULLABLE"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "iso3",
                    "type": "NOT_NULL"
                }
            ]
        },
        {
            "source_file": "source_indicators_meta.csv",
            "target_table": "test_staging_dataset.indicators_meta",
            "schema": [
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_name",
                    "type": "STRING",
                    "mode": "NULLABLE"
                },
                {
                    "name": "topic",
                    "type": "STRING",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "indicator_code",
                    "type": "NOT_NULL"
                }
            ]
        },
        {
            "source_file": "source_gdp.csv",
            "target_table": "test_staging_dataset.gdp",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "year",
                    "type": "INTEGER",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "value",
                    "type": "NUMERIC",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "year",
                    "type": "RANGE",
                    "min": 1900,
                    "max": 2100
                }
            ]
        },
        {
            "source_file": "source_population.csv",
            "target_table": "test_staging_dataset.population",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "year",
                    "type": "INTEGER",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "value",
                    "type": "INTEGER",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "year",
                    "type": "RANGE",
                    "min": 1900,
                    "max": 2100
                }
            ]
        },
        {
            "source_file": "source_life_expectancy.csv",
            "target_table": "test_staging_dataset.life_expectancy",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "year",
                    "type": "INTEGER",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "value",
                    "type": "FLOAT",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "year",
                    "type": "RANGE",
                    "min": 1900,
                    "max": 2100
                },
                {
                    "column": "value",
                    "type": "RANGE",
                    "min": 0,
                    "max": 120
                }
            ]
        },
        {
            "source_file": "source_co2_emissions.csv",
            "target_table": "test_staging_dataset.co2_emissions",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "year",
                    "type": "INTEGER",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "value",
                    "type": "INTEGER",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "year",
                    "type": "RANGE",
                    "min": 1900,
                    "max": 2100
                }
            ]
        },
        {
            "source_file": "source_primary_enrollment.csv",
            "target_table": "test_staging_dataset.primary_enrollment",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "year",
                    "type": "INTEGER",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "value",
                    "type": "FLOAT",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "year",
                    "type": "RANGE",
                    "min": 1900,
                    "max": 2100
                },
                {
                    "column": "value",
                    "type": "RANGE",
                    "min": 0,
                    "max": 200
                }
            ]
        },
        {
            "source_file": "source_poverty_headcount.csv",
            "target_table": "test_staging_dataset.poverty_headcount",
            "schema": [
                {
                    "name": "country_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "iso3",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "year",
                    "type": "INTEGER",
                    "mode": "REQUIRED"
                },
                {
                    "name": "indicator_code",
                    "type": "STRING",
                    "mode": "REQUIRED"
                },
                {
                    "name": "value",
                    "type": "FLOAT",
                    "mode": "NULLABLE"
                }
            ],
            "rules": [
                {
                    "column": "country_code",
                    "type": "NOT_NULL"
                },
                {
                    "column": "year",
                    "type": "RANGE",
                    "min": 1900,
                    "max": 2100
                },
                {
                    "column": "value",
                    "type": "RANGE",
                    "min": 0,
                    "max": 100
                }
            ]
        }
    ]
}